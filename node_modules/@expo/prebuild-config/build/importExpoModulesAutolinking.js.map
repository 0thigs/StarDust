{"version":3,"file":"importExpoModulesAutolinking.js","names":["importExpoModulesAutolinking","projectRoot","autolinking","tryRequireExpoModulesAutolinking","assertAutolinkingCompatibility","resolvedAutolinkingPath","require","resolve","paths","Error"],"sources":["../src/importExpoModulesAutolinking.ts"],"sourcesContent":["// NOTE: Keep these types in-sync with expo-modules-autolinking\n\nexport type SearchResults = {\n  [moduleName: string]: object;\n};\n\nexport type SearchOptions = {\n  searchPaths: string[];\n  platform: 'ios' | 'android' | 'web';\n  silent?: boolean;\n};\n\nexport type AutolinkingModule = {\n  resolveSearchPathsAsync(searchPaths: string[] | null, cwd: string): Promise<string[]>;\n  findModulesAsync(providedOptions: SearchOptions): Promise<SearchResults>;\n};\n\n/**\n * Imports the `expo-modules-autolinking` package installed in the project at the given path.\n */\nexport function importExpoModulesAutolinking(projectRoot: string): AutolinkingModule {\n  const autolinking = tryRequireExpoModulesAutolinking(projectRoot);\n  assertAutolinkingCompatibility(autolinking);\n  return autolinking;\n}\n\nfunction tryRequireExpoModulesAutolinking(projectRoot: string): AutolinkingModule {\n  try {\n    const resolvedAutolinkingPath = require.resolve('expo-modules-autolinking/build/autolinking', {\n      paths: [projectRoot],\n    });\n    return require(resolvedAutolinkingPath);\n  } catch {\n    throw new Error(\n      \"Cannot find 'expo-modules-autolinking' package in your project, make sure that you have 'expo' package installed\"\n    );\n  }\n}\n\nfunction assertAutolinkingCompatibility(autolinking: AutolinkingModule): void {\n  if ('resolveSearchPathsAsync' in autolinking && 'findModulesAsync' in autolinking) {\n    return;\n  }\n  throw new Error(\n    \"The 'expo-modules-autolinking' package has been found, but it seems to be incompatible with '@expo/prebuild-config'\"\n  );\n}\n"],"mappings":";;;;;;;AAAA;;AAiBA;AACA;AACA;AACO,SAASA,4BAAT,CAAsCC,WAAtC,EAA8E;EACnF,MAAMC,WAAW,GAAGC,gCAAgC,CAACF,WAAD,CAApD;EACAG,8BAA8B,CAACF,WAAD,CAA9B;EACA,OAAOA,WAAP;AACD;;AAED,SAASC,gCAAT,CAA0CF,WAA1C,EAAkF;EAChF,IAAI;IACF,MAAMI,uBAAuB,GAAGC,OAAO,CAACC,OAAR,CAAgB,4CAAhB,EAA8D;MAC5FC,KAAK,EAAE,CAACP,WAAD;IADqF,CAA9D,CAAhC;;IAGA,OAAOK,OAAO,CAACD,uBAAD,CAAd;EACD,CALD,CAKE,MAAM;IACN,MAAM,IAAII,KAAJ,CACJ,kHADI,CAAN;EAGD;AACF;;AAED,SAASL,8BAAT,CAAwCF,WAAxC,EAA8E;EAC5E,IAAI,6BAA6BA,WAA7B,IAA4C,sBAAsBA,WAAtE,EAAmF;IACjF;EACD;;EACD,MAAM,IAAIO,KAAJ,CACJ,qHADI,CAAN;AAGD"}