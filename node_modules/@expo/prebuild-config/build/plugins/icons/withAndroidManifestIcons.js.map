{"version":3,"file":"withAndroidManifestIcons.js","names":["withAndroidManifestIcons","config","withAndroidManifest","modResults","setRoundIconManifest","manifest","isAdaptive","android","adaptiveIcon","application","AndroidConfig","Manifest","getMainApplicationOrThrow","$"],"sources":["../../../src/plugins/icons/withAndroidManifestIcons.ts"],"sourcesContent":["import { AndroidConfig, ConfigPlugin, withAndroidManifest } from '@expo/config-plugins';\nimport { ExpoConfig } from '@expo/config-types';\n\nexport const withAndroidManifestIcons: ConfigPlugin = (config) =>\n  withAndroidManifest(config, (config) => {\n    config.modResults = setRoundIconManifest(config, config.modResults);\n    return config;\n  });\n\nexport function setRoundIconManifest(\n  config: Pick<ExpoConfig, 'android'>,\n  manifest: AndroidConfig.Manifest.AndroidManifest\n): AndroidConfig.Manifest.AndroidManifest {\n  const isAdaptive = !!config.android?.adaptiveIcon;\n  const application = AndroidConfig.Manifest.getMainApplicationOrThrow(manifest);\n\n  if (isAdaptive) {\n    application.$['android:roundIcon'] = '@mipmap/ic_launcher_round';\n  } else {\n    delete application.$['android:roundIcon'];\n  }\n  return manifest;\n}\n"],"mappings":";;;;;;;;AAAA;EAAA;;EAAA;IAAA;EAAA;;EAAA;AAAA;;AAGO,MAAMA,wBAAsC,GAAIC,MAAD,IACpD,IAAAC,oCAAA,EAAoBD,MAApB,EAA6BA,MAAD,IAAY;EACtCA,MAAM,CAACE,UAAP,GAAoBC,oBAAoB,CAACH,MAAD,EAASA,MAAM,CAACE,UAAhB,CAAxC;EACA,OAAOF,MAAP;AACD,CAHD,CADK;;;;AAMA,SAASG,oBAAT,CACLH,MADK,EAELI,QAFK,EAGmC;EAAA;;EACxC,MAAMC,UAAU,GAAG,CAAC,qBAACL,MAAM,CAACM,OAAR,4CAAC,gBAAgBC,YAAjB,CAApB;;EACA,MAAMC,WAAW,GAAGC,8BAAA,CAAcC,QAAd,CAAuBC,yBAAvB,CAAiDP,QAAjD,CAApB;;EAEA,IAAIC,UAAJ,EAAgB;IACdG,WAAW,CAACI,CAAZ,CAAc,mBAAd,IAAqC,2BAArC;EACD,CAFD,MAEO;IACL,OAAOJ,WAAW,CAACI,CAAZ,CAAc,mBAAd,CAAP;EACD;;EACD,OAAOR,QAAP;AACD"}