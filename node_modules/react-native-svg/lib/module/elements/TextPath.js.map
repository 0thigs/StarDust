{"version":3,"names":["TextPath","props","matrix","extractTransform","pickNotNil","extractText","root","setNativeProps","children","xlinkHref","href","startOffset","method","spacing","side","alignmentBaseline","midLine","prop","matched","match","idPattern","withoutXY","String","ref","refMethod","console","warn","Shape"],"sources":["TextPath.tsx"],"sourcesContent":["import React, { Component } from 'react';\nimport extractTransform from '../lib/extract/extractTransform';\nimport { withoutXY } from '../lib/extract/extractProps';\nimport {\n  NumberProp,\n  TextPathMethod,\n  TextPathMidLine,\n  TextPathSpacing,\n  TextSpecificProps,\n  TransformProps,\n} from '../lib/extract/types';\nimport extractText, { TextChild } from '../lib/extract/extractText';\nimport { idPattern, pickNotNil } from '../lib/util';\nimport Shape from './Shape';\nimport TSpan from './TSpan';\nimport { RNSVGTextPath } from './NativeComponents';\n\nexport interface TextPathProps extends TextSpecificProps {\n  children?: TextChild;\n  xlinkHref?: string;\n  href?: string;\n  startOffset?: NumberProp;\n  method?: TextPathMethod;\n  spacing?: TextPathSpacing;\n  midLine?: TextPathMidLine;\n  side?: string;\n}\n\nexport default class TextPath extends Shape<TextPathProps> {\n  static displayName = 'TextPath';\n\n  setNativeProps = (\n    props: Object & {\n      matrix?: number[];\n      style?: [] | {};\n    } & TransformProps,\n  ) => {\n    const matrix = !props.matrix && extractTransform(props);\n    if (matrix) {\n      props.matrix = matrix;\n    }\n    Object.assign(props, pickNotNil(extractText(props, true)));\n    this.root && this.root.setNativeProps(props);\n  };\n\n  render() {\n    const {\n      children,\n      xlinkHref,\n      href = xlinkHref,\n      startOffset = 0,\n      method,\n      spacing,\n      side,\n      alignmentBaseline,\n      midLine,\n      ...prop\n    } = this.props;\n    const matched = href && href.match(idPattern);\n    const match = matched && matched[1];\n    if (match) {\n      const props = withoutXY(this, prop);\n      Object.assign(\n        props,\n        extractText(\n          {\n            children,\n          },\n          true,\n        ),\n        {\n          href: match,\n          startOffset: startOffset === null ? null : String(startOffset),\n          method,\n          spacing,\n          side,\n          alignmentBaseline,\n          midLine,\n        },\n      );\n      props.ref = this.refMethod as (instance: Component | null) => void;\n      return <RNSVGTextPath {...props} />;\n    }\n\n    console.warn(\n      'Invalid `href` prop for `TextPath` element, expected a href like \"#id\", but got: \"' +\n        href +\n        '\"',\n    );\n    return (\n      <TSpan ref={this.refMethod as (instance: Component | null) => void}>\n        {children}\n      </TSpan>\n    );\n  }\n}\n"],"mappings":"ugCAAA,oDACA,yFACA,yDASA,+EACA,iCACA,uDACA,sDACA,oD,g7BAaqBA,S,2ZAGF,SACfC,KADe,CAKZ,CACH,GAAMC,OAAM,CAAG,CAACD,KAAK,CAACC,MAAP,EAAiB,GAAAC,yBAAA,EAAiBF,KAAjB,CAAhC,CACA,GAAIC,MAAJ,CAAY,CACVD,KAAK,CAACC,MAAN,CAAeA,MAAf,CACD,CACD,sBAAcD,KAAd,CAAqB,GAAAG,gBAAA,EAAW,GAAAC,oBAAA,EAAYJ,KAAZ,CAAmB,IAAnB,CAAX,CAArB,EACA,MAAKK,IAAL,EAAa,MAAKA,IAAL,CAAUC,cAAV,CAAyBN,KAAzB,CAAb,CACD,C,wEAED,iBAAS,CACP,gBAWI,KAAKA,KAXT,CACEO,QADF,aACEA,QADF,CAEEC,SAFF,aAEEA,SAFF,8BAGEC,IAHF,CAGEA,IAHF,2BAGSD,SAHT,oDAIEE,WAJF,CAIEA,WAJF,gCAIgB,CAJhB,uBAKEC,MALF,aAKEA,MALF,CAMEC,OANF,aAMEA,OANF,CAOEC,IAPF,aAOEA,IAPF,CAQEC,iBARF,aAQEA,iBARF,CASEC,OATF,aASEA,OATF,CAUKC,IAVL,8DAYA,GAAMC,QAAO,CAAGR,IAAI,EAAIA,IAAI,CAACS,KAAL,CAAWC,eAAX,CAAxB,CACA,GAAMD,MAAK,CAAGD,OAAO,EAAIA,OAAO,CAAC,CAAD,CAAhC,CACA,GAAIC,KAAJ,CAAW,CACT,GAAMlB,MAAK,CAAG,GAAAoB,uBAAA,EAAU,IAAV,CAAgBJ,IAAhB,CAAd,CACA,sBACEhB,KADF,CAEE,GAAAI,oBAAA,EACE,CACEG,QAAQ,CAARA,QADF,CADF,CAIE,IAJF,CAFF,CAQE,CACEE,IAAI,CAAES,KADR,CAEER,WAAW,CAAEA,WAAW,GAAK,IAAhB,CAAuB,IAAvB,CAA8BW,MAAM,CAACX,WAAD,CAFnD,CAGEC,MAAM,CAANA,MAHF,CAIEC,OAAO,CAAPA,OAJF,CAKEC,IAAI,CAAJA,IALF,CAMEC,iBAAiB,CAAjBA,iBANF,CAOEC,OAAO,CAAPA,OAPF,CARF,EAkBAf,KAAK,CAACsB,GAAN,CAAY,KAAKC,SAAjB,CACA,MAAO,8BAAC,+BAAD,0BAAmBvB,KAAnB,+EAAP,CACD,CAEDwB,OAAO,CAACC,IAAR,CACE,qFACEhB,IADF,CAEE,GAHJ,EAKA,MACE,8BAAC,cAAD,EAAO,GAAG,CAAE,KAAKc,SAAjB,4EACGhB,QADH,CADF,CAKD,C,sBAlEmCmB,e,wDAAjB3B,Q,eACE,U"}